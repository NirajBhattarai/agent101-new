# Railway configuration for backend services
# This file should be in the backend directory for each service

[build]
builder = "NIXPACKS"
# Use uv standalone installer (doesn't require Python)
# Nixpacks will auto-detect Python from requirements.txt/pyproject.toml
buildCommand = "curl -LsSf https://astral.sh/uv/install.sh | sh && export PATH=\"$HOME/.cargo/bin:$PATH\" && uv sync"

[deploy]
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

# Note: Start command should be set per service in Railway dashboard:
# Orchestrator: uv run -m agents.orchestrator.orchestrator
# Balance: uv run -m agents.balance
# Liquidity: uv run -m agents.multichain_liquidity
# Swap: uv run -m agents.swap
